# 付録
## 付録1　Makefile.confの変数一覧 {#付録1makefile.confの変数一覧 .ListParagraph}

\(1) MPIに関する設定

MPIDIR

説明：MPIがインストールされているディレクトリのパスを指定する。MPI対応コンパイラーが自動参照している場合は、以下も含めて設定不要である。

既定値：なし

MPIBINDIR

説明：MPIの実行ファイル群がインストールされているディレクトリのパスを指定する。

既定値：なし

MPILIBDIR

説明：MPIのライブラリ群がインストールされているディレクトリのパスを指定する。

既定値：.

MPIINCDIR

説明：MPIのヘッダーファイル群がインストールされているディレクトリのパスを指定する。

既定値：.

MPILIBS

説明：CおよびFortran90のオブジェクトファイルにリンクさせるMPIライブラリを指定する。

既定値：なし

\(2) インストールディレクトリに関する設定

PREFIX

説明：本ソフトウェアをインストールするディレクトリのパスを指定する。

既定値：\$(HOME)/FrontISTR

BINDIR

説明：本ソフトウェアの実行ファイル群をインストールするディレクトリのパスを指定する。通常は、この変数の値を変更する必要はない。

既定値：\$(PREFIX)/bin

LIBDIR

説明：本ソフトウェアのライブラリ群をインストールするディレクトリのパスを指定　　　する。通常は、この変数の値を既定値から変更する必要はない。

既定値：\$(PREFIX)/lib

INCLUDEDIR

説明：本ソフトウェアのヘッダーファイル群をインストールするディレクトリのパスを指定する。通常は、この変数の値を既定値から変更する必要はない。

既定値：\$(PREFIX)/include

\(3) METISに関する設定

METISDIR

説明：METISがインストールされているディレクトリのパスを指定する。

既定値：\$(HOME)/metis-4.0

METISLIBDIR

説明：METISのライブラリ（libmetis.a）がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(METISDIR)

METISINCDIR

説明：METISのヘッダーファイル群（metis.hなど）がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(METISDIR)/Lib

\(4) ParMETISに関する設定

PARMETISDIR

説明：ParMETISがインストールされているディレクトリのパスを指定する。

既定値：\$(HOME)/ParMetis-3.1

PARMETISLIBDIR

説明：ParMETISのライブラリ（libparmetis.a）がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(PARMETISDIR)

PAEMETISINCDIR

説明：ParMETISのヘッダーファイル群（parmetis.hなど）がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(PARMETISDIR)/ParMETISLib

\(5) REVOCAP\_Refinerに関する設定

REFINERDIR

説明：REVOCAP\_Refinerがインストールされているディレクトリのパスを指定する。

既定値：\$(HOME)/ REVOCAP\_Refiner

REFINERINCDIR

説明：REVOCAP\_Refinerのヘッダーファイル群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(REFINERDIR)/Refiner

REFINERLIBDIR

説明：REVOCAP\_Refinerのライブラリ群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(REFINERDIR)/lib

\(6) REVOCAP\_Couplerに関する設定

REVOCAPDIR

説明：REVOCAP\_Couplerがインストールされているディレクトリのパスを指定する。

既定値：\$(HOME)/ REVOCAP\_Coupler

REVOCAPINCDIR

説明：REVOCAP\_Couplerのヘッダーファイル群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(REVOCAPDIR)/librcap

REVOCAPLIBDIR

説明：REVOCAP\_Couplerのライブラリ群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(REVOCAPDIR)/librcap

(7)MUMPSに関する設定

MUMPSDIR

説明：MUMPSがインストールされているディレクトリのパスを指定する。

既定値：\$(HOME)/ MUMPS

MUMPSINCDIR

説明：MUMPSのヘッダーファイル群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(MUMPSDIR)/include

MUMPSLIBDIR

説明：MUMPSのライブラリ群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(MUMPSDIR)/lib

(8)MLに関する設定

MLDIR

説明：MLがインストールされているディレクトリのパスを指定する。

既定値：\$(HOME)/ trilinos/11.8.1/ml

MLINCDIR

説明：MLのヘッダーファイル群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(MLDIR)/include

MLLIBDIR

説明：MLのライブラリ群がインストールされているディレクトリのパスを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：\$(MLDIR)/lib

\(9) Cコンパイラーに関する設定

CC

説明：Cコンパイラーの起動コマンドを指定する。

既定値：mpicc

CFLAGS

説明：Cコンパイラーに付与するオプションを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：なし

LDFLAGS

説明：Cリンカーに付与するオプションを指定する。基本的には、この変数の値を既定値から変更する必要はない。ただし、REVOCAP\_Refinerを使用する場合で、CプログラムのリンクにCコンパイラーを用いる場合には、C++の標準ライブラリ（-lstdc++
など）を指定する必要がある。

既定値：-lm

OPTFLAGS

説明：Cコンパイラーに付与する最適化オプションなどを指定する。

既定値：-O3

CLINKER

説明：Cプログラムのリンク時に用いるコマンドを指定する。REVOCAP\_Refinerを使用する場合で、CプログラムのリンクにC++コンパイラーを用いる必要がある場合などに指定する。

既定値：\[CCに指定した値\]

\(10) C++コンパイラーに関する設定

CPP

説明：C++コンパイラーの起動コマンドを指定する。

既定値：mpic++

CPPFLAGS

説明：C++コンパイラーに付与するオプションを指定する。基本的には、この変数の値を既定値から変更する必要はないが、BoostライブラリがC++コンパイラーから自動参照されない場合、-Iオプションにより、インクルードファイルが格納されているディレクトリを指定する。

既定値：-DMPICH\_IGNORE\_CXX\_SEEK　　注：Intelコンパイラーでは必須

CPPLDFLAGS

説明：C++リンカーに付与するオプションを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：なし

CPPOPTFLAGS

説明：C++コンパイラーに付与する最適化オプションなどを指定する。

既定値：-O3

\(11) Fortran90コンパイラーに関する設定

F90

説明：Fortran90コンパイラーの起動コマンドを指定する。

既定値：mpif90

F90FLAGS

説明：Fortran90コンパイラーに付与するオプションを指定する。基本的には、この変数の値を既定値から変更する必要はない。

既定値：なし

F90LDFLAGS

説明：Fortran90リンカーに付与するオプションを指定する。基本的には、この変数の値を既定値から変更する必要はないが、
Intel
MKLを利用する場合には、そのリンクオプションを指定する。また、REVOCAP\_Refinerを使用する場合で、Fortran90プログラムのリンクにFortran90コンパイラーを用いる場合には、C++の標準ライブラリ（-lstdc++
など）を指定する必要がある。

既定値：なし

F90OPTFLAGS

説明：Fortran90コンパイラーに付与する最適化オプションなどを指定する。

既定値：-O2

F90LINKER

説明：Fortran90プログラムのリンク時に用いるコマンドを指定する。REVOCAP\_Refinerを使用する場合で、Fortran90プログラムのリンクにC++コンパイラーを用いる必要がある場合などに指定する。（たとえば、京コンピュータでは
“mpiFCCpx　--linkfortran” を指定する。）

既定値：\[F90に指定した値\]

\(12) UNIXコマンドに関する設定

MAKE

説明：makeの起動コマンドを指定する。オプションが必要な場合は同時に指定する。通常は、この変数の値を既定値から変更する必要はない。

既定値：make

AR

説明：アーカイブの作成、変更などを行なうコマンドを指定する。オプションが必要な場合は同時に指定する。通常は、この変数の値を既定値から変更する必要はない。

既定値：ar ruv

CP

説明：ファイルやディレクトリをコピーするコマンドを指定する。オプションが必要な場合は同時に指定する。通常は、この変数の値を既定値から変更する必要はない。

既定値：cp -f

RM

説明：ファイルやディレクトリを削除するコマンドを指定する。オプションが必要な場合は同時に指定する。通常は、この変数の値を既定値から変更する必要はない。

既定値：rm -f

MKDIR

設定：ディレクトリを作成するコマンドを指定する。オプションが必要な場合は同時に指定する。通常は、この変数の値を既定値から変更する必要はない。

既定値：mkdir -p

## 付録2　Makefile.confの設定例 {#付録2makefile.confの設定例 .ListParagraph}

## 付録3　京コンピュータおよび富士通FX10における注意 {#付録3京コンピュータおよび富士通fx10における注意 .ListParagraph}

本バージョンでは、京コンピュータおよび富士通FX10向けのチューニングが行われていますが、これに伴い、利用する環境に応じてソースコードの一部を変更する必要があります。

変更するファイル：

hecmw1/src/solver/solver\_33/hecmw\_tuning\_fx.f90

変更内容：

ファイル内で定義されているパラーメータ変数 **TotalSectorCacheSize** を

・ 京コンピュータでは **12**

・ FX10では **24**

に設定する。

なお、初期状態では京コンピュータ向けの設定となっています。
